(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["yx"]=t():e["yx"]=t()})("undefined"!==typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({8875:function(e,t,n){var r,a,o;(function(n,l){a=[],r=l,o="function"===typeof r?r.apply(t,a):r,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,r,a,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,l=/@([^@]*):(\d+):(\d+)\s*$/gi,i=o.exec(f.stack)||l.exec(f.stack),c=i&&i[1]||!1,s=i&&i[2]||!1,p=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");c===p&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(s-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),a=n.replace(r,"$1").trim());for(var u=0;u<d.length;u++){if("interactive"===d[u].readyState)return d[u];if(d[u].src===c)return d[u];if(c===p&&d[u].innerHTML&&d[u].innerHTML.trim()===a)return d[u]}return null}}return e}))},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var r=window.document.currentScript,a=n("8875");r=a(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:a});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"yx-block"},[e.sourceData?n("el-collapse",{attrs:{value:e.open}},[n("el-collapse-item",{attrs:{name:"1"}},[n("template",{slot:"title"},[e.ableClick?n("h3",{staticClass:"yx-block__cursor yx-text__link",on:{click:e.modal}},[e._v(" "+e._s(e.title)+" ")]):n("h3",[e._v(e._s(e.title))])]),e._t("default")],2)],1):n("div",[e.ableClick?n("h3",{staticClass:"yx-block__cursor yx-text__link",on:{click:e.modal}},[e._v(" "+e._s(e.title)+" ")]):n("h3",[e._v(e._s(e.title))]),e._t("default")],2)],1)},i=[],c={name:"YxBlock",props:{title:{type:String,default:""},ableClick:{type:Boolean,default:!1},sourceData:{type:[Object,Array],default:()=>{}}},computed:{open(){if(!this.sourceData&&this.sourceData.length<=0)return"";{const e=Object.values(this.sourceData),t=e.filter(e=>e);if(t.length>0){const e=t.reduce((e,t)=>{const n=t instanceof Object?Object.values(t):t;return e.concat(n)},[]).filter(e=>e);return e.length>0?"1":""}return""}}},methods:{modal(){this.$emit("show")},formatterVal(e){return e.foreach(e=>{}),e.map(e=>e&&e instanceof Object?Object.values(e):e||"")}}},s=c;function p(e,t,n,r,a,o,l,i){var c,s="function"===typeof e?e.options:e;if(t&&(s.render=t,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),o&&(s._scopeId="data-v-"+o),l?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},s._ssrRegister=c):a&&(c=i?function(){a.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:a),c)if(s.functional){s._injectStyles=c;var p=s.render;s.render=function(e,t){return c.call(t),p(e,t)}}else{var d=s.beforeCreate;s.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:s}}var d=p(s,l,i,!1,null,null,null),u=d.exports;u.install=function(e){e.component(u.name,u)};var f=u,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"yx-page-form"},[n("el-form",{ref:"form",attrs:{model:e.data,rules:e.rules,"label-width":e.labelWidth,"label-position":e.labelPosition}},[n("el-row",{attrs:{type:"flex",align:"bottom",gutter:e.rowGutter}},[e._l(e.getConfigList(),(function(t,r){return n("el-col",{key:r,attrs:{xs:t.colXs?t.colXs:e.colXs,sm:t.colSm?t.colSm:e.colSm,md:t.colMd?t.colMd:e.colMd,lg:t.colLg?t.colLg:e.colLg}},["slot"===t.type&&t.noForm?[e._t("form-"+t.prop)]:n("el-form-item",{key:t.label+"-"+t.noValid,attrs:{prop:t.disabled||t.noValid?"":t.prop,label:t.label}},["slot"!==t.type||t.noForm?e._e():[e._t("form-"+t.prop)],["input","password"].includes(t.type)?n("el-input",{key:t.prop,attrs:{type:t.type,disabled:t.disabled,placeholder:t.placeholder?t.placeholder:e.getPlaceholder(t)},on:{focus:function(n){return e.handleEvent(t.event)},change:function(n){return e.handleEvent(t.event,e.data[t.prop])}},model:{value:e.data[t.prop],callback:function(n){e.$set(e.data,t.prop,n)},expression:"data[item.prop]"}}):["number"].includes(t.type)?n("el-input",{key:t.prop,attrs:{type:t.type,disabled:t.disabled,placeholder:e.getPlaceholder(t)},on:{focus:function(n){return e.handleEvent(t.event)},change:function(n){return e.handleEvent(t.event,e.data[t.prop])}},model:{value:e.data[t.prop],callback:function(n){e.$set(e.data,t.prop,e._n(n))},expression:"data[item.prop]"}}):e._e(),"inputNumber"===t.type?n("el-input-number",{staticStyle:{width:"100%"},attrs:{min:t.min,max:t.max,controls:t.controls},on:{change:function(n){return e.handleEvent(t.event)}},model:{value:e.data[t.prop],callback:function(n){e.$set(e.data,t.prop,n)},expression:"data[item.prop]"}}):"textarea"===t.type?n("el-input",{key:t.prop,attrs:{type:t.type,disabled:t.disabled,placeholder:e.getPlaceholder(t),autosize:t.autosize||{minRows:2,maxRows:10}},on:{focus:function(n){return e.handleEvent(t.event)}},model:{value:e.data[t.prop],callback:function(n){e.$set(e.data,t.prop,"string"===typeof n?n.trim():n)},expression:"data[item.prop]"}}):"select"===t.type?n("el-select",{key:t.prop,attrs:{"default-first-option":"",disabled:t.disabled,clearable:!t.clearable||t.clearable,filterable:t.filterable,placeholder:e.getPlaceholder(t)},on:{change:function(n){return e.handleEvent(t.event,e.data[t.prop],t)}},model:{value:e.data[t.prop],callback:function(n){e.$set(e.data,t.prop,n)},expression:"data[item.prop]"}},e._l(e.selectListOption(e.listTypeInfo[t.list]),(function(e,r){return n("el-option",{key:r,attrs:{label:e.label||e[t.optLabel],value:e.value||e[t.optVal]}})})),1):"multselect"===t.type?n("el-select",{key:t.prop,attrs:{disabled:t.disabled,multiple:"",clearable:!t.clearable||t.clearable,filterable:t.filterable,placeholder:e.getPlaceholder(t)},on:{change:function(n){return e.handleEvent(t.event,e.data[t.prop],t)}},model:{value:e.data[t.prop],callback:function(n){e.$set(e.data,t.prop,n)},expression:"data[item.prop]"}},e._l(e.listTypeInfo[t.list],(function(e,r){return n("el-option",{key:r,attrs:{label:e.label||e[t.optLabel],value:e.value||e[t.optVal]}})})),1):"date"===t.type?n("el-date-picker",{key:t.prop,attrs:{type:t.dateType,"picker-options":t.TimePickerOptions,clearable:t.clearable,disabled:t.disabled,"value-format":t.valueFormat||"yyyy-MM-dd",format:t.format,"start-placeholder":"开始日期","end-placeholder":"结束日期",placeholder:e.getPlaceholder(t)},on:{focus:function(n){return e.handleEvent(t.event)}},model:{value:e.data[t.prop],callback:function(n){e.$set(e.data,t.prop,n)},expression:"data[item.prop]"}}):"time"===t.type?n("el-time-select",{key:t.prop,attrs:{placeholder:e.getPlaceholder(t),"picker-options":t.TimePickerOptions},on:{focus:function(n){return e.handleEvent(t.event)}},model:{value:e.data[t.prop],callback:function(n){e.$set(e.data,t.prop,n)},expression:"data[item.prop]"}}):"atime"===t.type?n("el-time-picker",{key:t.prop,attrs:{"is-range":t.isRange,placeholder:e.getPlaceholder(t),"value-format":t.valueFormat,"picker-options":t.TimePickerOptions},on:{focus:function(n){return e.handleEvent(t.event)}},model:{value:e.data[t.prop],callback:function(n){e.$set(e.data,t.prop,n)},expression:"data[item.prop]"}}):e._e(),"text"===t.type?n("span",[e._v(e._s(e.data[t.prop]))]):e._e()],2)],2)})),0!==e.operate.length?n("el-col",{class:{"yx-col-auto":e.isAuto},attrs:{span:24}},[n("div",{staticClass:"yx-search-btn"},[e._l(e.operate,(function(t){return[t.permission?n("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:[t.permission],expression:"[item.permission]"}],key:t.name,attrs:{type:t.type,icon:t.icon,loading:t.loading,disabled:t.disabled},on:{click:t.handleClick}},[e._v(e._s(t.name))]):e._e(),t.permission?e._e():n("el-button",{key:t.name,attrs:{type:t.type,icon:t.icon,loading:t.loading,disabled:t.disabled},on:{click:t.handleClick}},[e._v(e._s(t.name))])]}))],2)]):e._e(),e.operateClass?n("el-col",{class:e.operateClass},[n("el-form-item",[e._t("operate")],2)],1):e._e()],2)],1)],1)},y=[];const b=e=>Object.prototype.toString.call(e).match(/\[object (.*?)\]/)[1].toLowerCase();var h={name:"YxPageForm",props:{rowGutter:{type:Number,default:20},colXs:{type:Number,default:24},colSm:{type:Number,default:12},colMd:{type:Number,default:8},colLg:{type:Number,default:4},data:{type:Object,default:()=>({})},fieldList:{type:Array,default:()=>[]},rules:{type:Object,default:()=>({})},listTypeInfo:{type:Object,default:()=>({})},labelWidth:{type:String,default:"120px"},labelPosition:{type:String,default:"top"},refObj:{type:Object,default:()=>({})},operate:{type:Array,default:()=>[]},operateClass:{type:String,default:""}},data(){return{}},computed:{isAuto(){return this.fieldList.length<24/this.colLg}},watch:{data:{handler:function(e){this.$emit("update:refObj",this.$refs.form)},deep:!0}},mounted(){this.$emit("update:refObj",this.$refs.form)},methods:{selectListOption(e){if(!e)return;const t=e[0];return"string"===b(t)?e.map(e=>({label:e,value:e})):e},getConfigList(){return this.fieldList.filter(e=>!e.hasOwnProperty("show")||e.hasOwnProperty("show")&&e.show)},getPlaceholder(e){let t;return t="input"===e.type||"textarea"===e.type?"请输入"+e.label:"select"===e.type||"time"===e.type||"date"===e.type?"请选择"+e.label:e.label,t},handleEvent(e,t,n){this.$emit("handleEvent",e,t,n)},handleClick(e,t){this.$emit("handleClick",e,t)}}},v=h,_=p(v,m,y,!1,null,null,null),g=_.exports;g.install=function(e){e.component(g.name,g)};var k=g;const x=[f,k],w=function(e){w.installed||x.map(t=>e.component(t.name,t))};"undefined"!==typeof window&&window.Vue&&w(window.Vue);var O={version:"1.0.0-1",install:w,Block:f,PageForm:k};t["default"]=O}})["default"]}));